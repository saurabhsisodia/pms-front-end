<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login page.</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="assets/css/custome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

    <div class="card" id="ResumeForm">
        <small></small>
        <!-- <form method="POST"> -->
            <div class="login-img text-center text-muted">
                <!-- <img src="assets/logos/logo.png" alt=""> -->
            </div>
            <div class="form-group">
                <input id = "username" type="text" name="username" class="form-control" placeholder="Username">
                <small></small>
            </div>
            <div class="form-group">
                <input id = "password" type="password" name="password" class="form-control" placeholder="Password">
                <small></small>
            </div>
            <center>
                <button onclick="signup()" class="btn text-" style="background-color: #D0D3D4;">Signup</button>   
            </center>
            <a href="login.html">login</a>
        <!-- </form> -->
    </div>

    <script>

        function signup(){
            const username = document.getElementById("username").value
            const password = document.getElementById("password").value
            if (username.length ==0 || password.length == 0){
                alert("Empty credentials")
                return
            }
            
            const url = "http://localhost:3000/api/signup"
            const body = {
                "username":username,
                "password":password
            }
            console.log(body)
            fetch(url,{ method: 'POST',body: JSON.stringify(body),headers: {
                        'Content-Type': 'application/json'}  
                    })
            .then((res)=>{
                if (res.err){
                    alert(res.err)
                }else{
                    window.location.href = res.homeURL;
                }
            })
        }

    </script>
    
</body>
</html>